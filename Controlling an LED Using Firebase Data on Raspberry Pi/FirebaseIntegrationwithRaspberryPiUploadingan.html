<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=XGMkxXUZTA64h2imyzu79g);ul.lst-kix_z9hbd7gyi4bq-6{list-style-type:none}ul.lst-kix_z9hbd7gyi4bq-5{list-style-type:none}ul.lst-kix_z9hbd7gyi4bq-8{list-style-type:none}ul.lst-kix_z9hbd7gyi4bq-7{list-style-type:none}ul.lst-kix_z9hbd7gyi4bq-2{list-style-type:none}ul.lst-kix_z9hbd7gyi4bq-1{list-style-type:none}ul.lst-kix_z9hbd7gyi4bq-4{list-style-type:none}ul.lst-kix_gusgrzmk393w-8{list-style-type:none}ul.lst-kix_z9hbd7gyi4bq-3{list-style-type:none}ul.lst-kix_gusgrzmk393w-7{list-style-type:none}ul.lst-kix_gusgrzmk393w-6{list-style-type:none}ul.lst-kix_gusgrzmk393w-5{list-style-type:none}ul.lst-kix_z9hbd7gyi4bq-0{list-style-type:none}ul.lst-kix_gusgrzmk393w-4{list-style-type:none}ul.lst-kix_gusgrzmk393w-3{list-style-type:none}ul.lst-kix_gusgrzmk393w-2{list-style-type:none}ul.lst-kix_gusgrzmk393w-1{list-style-type:none}ul.lst-kix_gusgrzmk393w-0{list-style-type:none}.lst-kix_ss2lu83jqqc3-8>li:before{content:"\0025a0   "}.lst-kix_xonn1ulr05o2-6>li:before{content:"\0025cf   "}.lst-kix_xonn1ulr05o2-5>li:before{content:"\0025a0   "}.lst-kix_z9hbd7gyi4bq-7>li:before{content:"\0025cb   "}.lst-kix_xonn1ulr05o2-3>li:before{content:"\0025cf   "}.lst-kix_xonn1ulr05o2-4>li:before{content:"\0025cb   "}.lst-kix_xonn1ulr05o2-1>li:before{content:"\0025cb   "}ul.lst-kix_xonn1ulr05o2-1{list-style-type:none}.lst-kix_gusgrzmk393w-8>li:before{content:"\0025a0   "}.lst-kix_z9hbd7gyi4bq-5>li:before{content:"\0025a0   "}.lst-kix_z9hbd7gyi4bq-6>li:before{content:"\0025cf   "}ul.lst-kix_xonn1ulr05o2-0{list-style-type:none}ul.lst-kix_xonn1ulr05o2-3{list-style-type:none}ul.lst-kix_xonn1ulr05o2-2{list-style-type:none}ul.lst-kix_xonn1ulr05o2-5{list-style-type:none}.lst-kix_z9hbd7gyi4bq-4>li:before{content:"\0025cb   "}ul.lst-kix_xonn1ulr05o2-4{list-style-type:none}.lst-kix_xonn1ulr05o2-2>li:before{content:"\0025a0   "}ul.lst-kix_xonn1ulr05o2-7{list-style-type:none}ul.lst-kix_xonn1ulr05o2-6{list-style-type:none}ul.lst-kix_xonn1ulr05o2-8{list-style-type:none}.lst-kix_1o8dc16shroa-0>li:before{content:"\0025cf   "}.lst-kix_xonn1ulr05o2-0>li:before{content:"\0025cf   "}.lst-kix_1o8dc16shroa-2>li:before{content:"\0025a0   "}.lst-kix_1o8dc16shroa-1>li:before{content:"\0025cb   "}.lst-kix_1o8dc16shroa-3>li:before{content:"\0025cf   "}.lst-kix_z9hbd7gyi4bq-8>li:before{content:"\0025a0   "}.lst-kix_1o8dc16shroa-6>li:before{content:"\0025cf   "}.lst-kix_1o8dc16shroa-5>li:before{content:"\0025a0   "}.lst-kix_1o8dc16shroa-7>li:before{content:"\0025cb   "}.lst-kix_1o8dc16shroa-4>li:before{content:"\0025cb   "}.lst-kix_1o8dc16shroa-8>li:before{content:"\0025a0   "}.lst-kix_gusgrzmk393w-0>li:before{content:"\0025cf   "}.lst-kix_gusgrzmk393w-1>li:before{content:"\0025cb   "}.lst-kix_gusgrzmk393w-4>li:before{content:"\0025cb   "}.lst-kix_z9hbd7gyi4bq-1>li:before{content:"\0025cb   "}.lst-kix_z9hbd7gyi4bq-2>li:before{content:"\0025a0   "}ul.lst-kix_ss2lu83jqqc3-7{list-style-type:none}.lst-kix_gusgrzmk393w-2>li:before{content:"\0025a0   "}.lst-kix_gusgrzmk393w-6>li:before{content:"\0025cf   "}.lst-kix_z9hbd7gyi4bq-3>li:before{content:"\0025cf   "}ul.lst-kix_ss2lu83jqqc3-8{list-style-type:none}ul.lst-kix_ss2lu83jqqc3-5{list-style-type:none}.lst-kix_gusgrzmk393w-3>li:before{content:"\0025cf   "}.lst-kix_gusgrzmk393w-7>li:before{content:"\0025cb   "}ul.lst-kix_ss2lu83jqqc3-6{list-style-type:none}ul.lst-kix_ss2lu83jqqc3-3{list-style-type:none}ul.lst-kix_ss2lu83jqqc3-4{list-style-type:none}ul.lst-kix_ss2lu83jqqc3-1{list-style-type:none}ul.lst-kix_ss2lu83jqqc3-2{list-style-type:none}.lst-kix_z9hbd7gyi4bq-0>li:before{content:"\0025cf   "}ul.lst-kix_ss2lu83jqqc3-0{list-style-type:none}.lst-kix_gusgrzmk393w-5>li:before{content:"\0025a0   "}.lst-kix_ss2lu83jqqc3-6>li:before{content:"\0025cf   "}ul.lst-kix_1o8dc16shroa-4{list-style-type:none}ul.lst-kix_1o8dc16shroa-5{list-style-type:none}ul.lst-kix_1o8dc16shroa-6{list-style-type:none}ul.lst-kix_1o8dc16shroa-7{list-style-type:none}.lst-kix_xonn1ulr05o2-7>li:before{content:"\0025cb   "}ul.lst-kix_1o8dc16shroa-0{list-style-type:none}ul.lst-kix_1o8dc16shroa-1{list-style-type:none}.lst-kix_xonn1ulr05o2-8>li:before{content:"\0025a0   "}.lst-kix_ss2lu83jqqc3-3>li:before{content:"\0025cf   "}.lst-kix_ss2lu83jqqc3-7>li:before{content:"\0025cb   "}ul.lst-kix_1o8dc16shroa-2{list-style-type:none}ul.lst-kix_1o8dc16shroa-3{list-style-type:none}.lst-kix_ss2lu83jqqc3-4>li:before{content:"\0025cb   "}ul.lst-kix_1o8dc16shroa-8{list-style-type:none}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_ss2lu83jqqc3-5>li:before{content:"\0025a0   "}.lst-kix_ss2lu83jqqc3-2>li:before{content:"\0025a0   "}.lst-kix_ss2lu83jqqc3-0>li:before{content:"\0025cf   "}.lst-kix_ss2lu83jqqc3-1>li:before{content:"\0025cb   "}ol{margin:0;padding:0}table td,table th{padding:0}.c2{margin-left:36pt;padding-top:12pt;padding-left:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c8{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c5{background-color:#1f272a;padding-top:0pt;padding-bottom:0pt;line-height:1.3571428571428572;orphans:2;widows:2;text-align:left}.c10{padding-top:14pt;padding-bottom:4pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c15{padding-top:12pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c13{color:#000000;text-decoration:none;vertical-align:baseline;font-size:17pt;font-family:"Arial";font-style:normal}.c21{padding-top:18pt;padding-bottom:4pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c19{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c0{font-size:10.5pt;font-family:"Courier New";color:#dae3e3;font-weight:400}.c11{font-size:10.5pt;font-family:"Courier New";color:#7fcbcd;font-weight:400}.c12{font-size:10.5pt;font-family:"Courier New";color:#c586c0;font-weight:400}.c1{font-size:10.5pt;font-family:"Courier New";color:#f39c12;font-weight:400}.c17{color:#000000;font-size:11pt;font-family:"Arial"}.c16{color:#000000;font-size:13pt;font-family:"Arial"}.c14{text-decoration:none;vertical-align:baseline;font-style:normal}.c20{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c6{color:#188038;font-weight:400;font-family:"Roboto Mono"}.c18{margin-left:72pt;padding-left:0pt}.c3{padding:0;margin:0}.c7{font-weight:700}.c9{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c20 doc-content"><h2 class="c21" id="h.m00kttrtma4x"><span class="c7 c13">Tutorial 4: Controlling an LED Using Firebase Data on Raspberry Pi</span></h2><p class="c15"><span class="c7">Objective:<br></span><span class="c8">&nbsp;Learn how to control an LED based on a value stored in Firebase using a Raspberry Pi.</span></p><h3 class="c10" id="h.6rlagtt418gy"><span class="c16 c14 c7">Prerequisites:</span></h3><ul class="c3 lst-kix_gusgrzmk393w-0 start"><li class="c2 li-bullet-0"><span class="c8">Raspberry Pi with internet access</span></li><li class="c2 li-bullet-0"><span class="c8">LED and a 220&Omega; resistor</span></li><li class="c2 li-bullet-0"><span class="c8">Firebase project (same as the previous tutorial)</span></li><li class="c2 li-bullet-0"><span class="c8">Python installed on Raspberry Pi</span></li></ul><h3 class="c10" id="h.1zqjt8hthw7m"><span class="c16 c14 c7">Connections:</span></h3><ul class="c3 lst-kix_xonn1ulr05o2-0 start"><li class="c2 li-bullet-0"><span class="c14 c7 c17">LED:</span></li></ul><ul class="c3 lst-kix_xonn1ulr05o2-1 start"><li class="c15 c18 li-bullet-0"><span class="c7">Anode (+)</span><span class="c8">&nbsp;&rarr; Raspberry Pi GPIO (e.g., GPIO 18)</span></li><li class="c15 c18 li-bullet-0"><span class="c7">Cathode (-)</span><span class="c8">&nbsp;&rarr; Ground via a 220&Omega; resistor</span></li></ul><h3 class="c10" id="h.navk5okj472w"><span class="c16 c14 c7">Step 1: Install Required Libraries</span></h3><p class="c15"><span>If not installed already, install </span><span class="c6">pyrebase4</span><span>&nbsp;and </span><span class="c6">RPi.GPIO</span><span class="c8">:</span></p><p class="c19"><span class="c8">pip install pyrebase4 RPi.GPIO</span></p><p class="c4"><span class="c8"></span></p><h3 class="c10" id="h.c6ptfcla2q1c"><span class="c16 c14 c7">Step 2: Configure Firebase in Python</span></h3><p class="c15"><span>Create a Python file </span><span class="c6">led_control.py</span><span class="c8">&nbsp;and add the following code:</span></p><p class="c5"><span class="c0 c14">import pyrebase</span></p><p class="c5"><span class="c0">import </span><span class="c1">RPi</span><span class="c0">.</span><span class="c1">GPIO</span><span class="c0 c14">&nbsp;as GPIO</span></p><p class="c5"><span class="c0 c14">import time</span></p><p class="c5 c9"><span class="c0 c14"></span></p><p class="c5"><span class="c0 c14"># Firebase configuration</span></p><p class="c5"><span class="c0 c14">config = {</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; </span><span class="c11">&quot;apiKey&quot;</span><span class="c0">: </span><span class="c11">&quot;YOUR_API_KEY&quot;</span><span class="c0 c14">,</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; </span><span class="c11">&quot;authDomain&quot;</span><span class="c0">: </span><span class="c11">&quot;YOUR_PROJECT_ID.firebaseapp.com&quot;</span><span class="c0 c14">,</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; </span><span class="c11">&quot;databaseURL&quot;</span><span class="c0">: </span><span class="c11">&quot;https://YOUR_PROJECT_ID.firebaseio.com&quot;</span><span class="c0 c14">,</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; </span><span class="c11">&quot;storageBucket&quot;</span><span class="c0">: </span><span class="c11 c14">&quot;YOUR_PROJECT_ID.appspot.com&quot;</span></p><p class="c5"><span class="c0 c14">}</span></p><p class="c5 c9"><span class="c0 c14"></span></p><p class="c5"><span class="c0 c14"># Initialize Firebase</span></p><p class="c5"><span class="c0">firebase = </span><span class="c1">pyrebase</span><span class="c0">.</span><span class="c1">initialize_app</span><span class="c0 c14">(config)</span></p><p class="c5"><span class="c0">db = </span><span class="c1">firebase</span><span class="c0">.</span><span class="c1">database</span><span class="c0 c14">()</span></p><p class="c5 c9"><span class="c0 c14"></span></p><p class="c5"><span class="c0 c14"># Setup Raspberry Pi GPIO</span></p><p class="c5"><span class="c0">LED_PIN = </span><span class="c11">18</span><span class="c0">&nbsp; # Use GPIO pin </span><span class="c11 c14">18</span></p><p class="c5"><span class="c1">GPIO</span><span class="c0">.</span><span class="c1">setmode</span><span class="c0">(</span><span class="c1">GPIO</span><span class="c0">.</span><span class="c1">BCM</span><span class="c0 c14">)</span></p><p class="c5"><span class="c1">GPIO</span><span class="c0">.</span><span class="c1">setup</span><span class="c0">(LED_PIN, </span><span class="c1">GPIO</span><span class="c0">.</span><span class="c1">OUT</span><span class="c0 c14">)</span></p><p class="c5 c9"><span class="c0 c14"></span></p><p class="c5"><span class="c0">def </span><span class="c1">control_led</span><span class="c0 c14">():</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; </span><span class="c12">while</span><span class="c0 c14">&nbsp;True:</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; led_status = </span><span class="c1">db</span><span class="c0">.</span><span class="c1">child</span><span class="c0">(</span><span class="c11">&quot;led_status&quot;</span><span class="c0">).</span><span class="c1">get</span><span class="c0">().</span><span class="c1">val</span><span class="c0 c14">() &nbsp;# Read value from Firebase</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c12">if</span><span class="c0">&nbsp;led_status == </span><span class="c11">&quot;ON&quot;</span><span class="c0 c14">:</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">GPIO</span><span class="c0">.</span><span class="c1">output</span><span class="c0">(LED_PIN, </span><span class="c1">GPIO</span><span class="c0">.</span><span class="c1">HIGH</span><span class="c0 c14">)</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">print</span><span class="c0">(</span><span class="c11">&quot;LED is ON&quot;</span><span class="c0 c14">)</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c12">else</span><span class="c0 c14">:</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">GPIO</span><span class="c0">.</span><span class="c1">output</span><span class="c0">(LED_PIN, </span><span class="c1">GPIO</span><span class="c0">.</span><span class="c1">LOW</span><span class="c0 c14">)</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">print</span><span class="c0">(</span><span class="c11">&quot;LED is OFF&quot;</span><span class="c0 c14">)</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">time</span><span class="c0">.</span><span class="c1">sleep</span><span class="c0">(</span><span class="c11">1</span><span class="c0 c14">) &nbsp;# Check Firebase every second</span></p><p class="c5 c9"><span class="c0 c14"></span></p><p class="c5"><span class="c12">try</span><span class="c0 c14">:</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; </span><span class="c1">control_led</span><span class="c0 c14">()</span></p><p class="c5"><span class="c0 c14">except KeyboardInterrupt:</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; </span><span class="c1">GPIO</span><span class="c0">.</span><span class="c1">cleanup</span><span class="c0 c14">()</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; </span><span class="c1">print</span><span class="c0">(</span><span class="c11">&quot;Program stopped.&quot;</span><span class="c0 c14">)</span></p><p class="c5 c9"><span class="c0 c14"></span></p><p class="c4"><span class="c8"></span></p><p class="c4"><span class="c8"></span></p><h3 class="c10" id="h.2zudmoa8fykr"><span class="c16 c14 c7">Step 3: Set LED Status in Firebase</span></h3><p class="c19"><span class="c8">Open Firebase and manually add a node:<br> led_status: &quot;ON&quot; &nbsp;(to turn LED on)</span></p><p class="c19"><span class="c8">led_status: &quot;OFF&quot; &nbsp;(to turn LED off)</span></p><ul class="c3 lst-kix_z9hbd7gyi4bq-0 start"><li class="c2 c9 li-bullet-0"><span class="c8"></span></li><li class="c2 li-bullet-0"><span class="c8">The Raspberry Pi will automatically update the LED state based on this value.</span></li></ul><h3 class="c10" id="h.vrenafw2or05"><span class="c16 c14 c7">Step 4: Run the Script</span></h3><p class="c15"><span class="c8">Execute the script:</span></p><p class="c19"><span class="c8">python led_control.py</span></p><p class="c4"><span class="c8"></span></p><h3 class="c10" id="h.fw7nzerwv0wj"><span class="c14 c7 c16">Expected Output:</span></h3><ul class="c3 lst-kix_ss2lu83jqqc3-0 start"><li class="c2 li-bullet-0"><span>When </span><span class="c6">led_status</span><span>&nbsp;is </span><span class="c6">&quot;ON&quot;</span><span class="c8">&nbsp;in Firebase, the LED turns on.</span></li><li class="c2 li-bullet-0"><span>When </span><span class="c6">led_status</span><span>&nbsp;is </span><span class="c6">&quot;OFF&quot;</span><span class="c8">, the LED turns off.</span></li><li class="c2 li-bullet-0"><span class="c8">The script continuously checks Firebase every second.</span></li></ul><hr><p class="c4"><span class="c8"></span></p><h3 class="c10" id="h.ihxnpbazycvv"><span class="c16 c14 c7">Conclusion</span></h3><ul class="c3 lst-kix_1o8dc16shroa-0 start"><li class="c2 li-bullet-0"><span class="c7">First tutorial:</span><span class="c8">&nbsp;IR sensor readings are uploaded to Firebase.</span></li><li class="c2 li-bullet-0"><span class="c7">Second tutorial:</span><span class="c8">&nbsp;Raspberry Pi reads values from Firebase and controls an LED.</span></li></ul><p class="c15"><span>These two tutorials will help your students understand both </span><span class="c7">data upload and retrieval</span><span class="c8">&nbsp;using Firebase with a Raspberry Pi. &#128640;</span></p><p class="c4"><span class="c8"></span></p><p class="c4"><span class="c8"></span></p></body></html>